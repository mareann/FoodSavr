<!DOCTYPE html>
<html lang="en">
  <head>
  	 <script src="https://code.jquery.com/jquery.js"></script>
  	     <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src='https://maps.googleapis.com/maps/api/js?key=AIzaSyAWfL63JtMGctEdm1gD6haUVuzBqakG4Hw&v=3.exp'></script>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <title>FoodSavr</title>
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
    <script src="../../assets/js/ie-emulation-modes-warning.js"></script>
    <!-- Custom styles for this template -->
<link href="./css/styles.css" rel="stylesheet">
  </head>

<body>
    <div class="navbar-wrapper">
      <div class="container">

        <nav class="navbar navbar-inverse navbar-static-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">FoodSavr</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li><a href="/">About</a></li>
                <li class="active"><a href="/donors">Donor Sign Up Form</a></li>
                <li><a href="/charity">Charity Sign Up Form</a></li>
                <li class="dropdown">
                  <a href="/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Our Members <span class="caret"></span></a>
                  <ul class="dropdown-menu">
                    <li><a href="/charities">Our Charities</a></li>
                    <li><a href="/donor">Our Donors</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </div>
<div class="container">
      <div class="jumbotron">
        <h1>Food Waste Reduction Through Donation</h1>
        <p>Roughly one third of the food produced in the world for human consumption every year, approximately 1.3 billion tons, gets lost or wasted.</p>
       </div>
    </div>

<div class="container">	
<div class="row">
<div class="col-md-12">



<div class='m_wastenofood_charitiessignup-REST m-alert m-hidden'></div>
<div id="submit_form">
<form id="donor_form" class="form-horizontal">
    
<div id="sign_in_heading">	<h2>Donor Sign Up Form</h2>

<div class='m_wastenofood_donorsignup-REST m-alert m-hidden'></div><div id = "submit_form">
<form id="donor_form" class="form-horizontal">

<fieldset>
		<div class="control-group">
			<label class="control-label" for="donor_name682"> Donor name </label>			<div class="controls">
				 <input name="donor_name" id="donor_name682" type="text"    value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="donor_name682"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="address681"> Address </label>			<div class="controls">
				 <textarea name="address" id="address681"    ></textarea> 				<span class="m-form-error help-inline m-hidden" data-element="address681"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="city901"> City </label>			<div class="controls">
				 <input name="city" id="city901" type="text"    value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="city901"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="state868"> State </label>			<div class="controls">
				 <select name="state" id="state868" >
          <option value="" selected="selected">Choose Your State</option>
          <option value="Alabama" >Alabama</option>
          <option value="Alaska" >Alaska</option>
          <option value="Arizona" >Arizona</option>
          <option value="Arkansas" >Arkansas</option>
          <option value="California" >California</option>
          <option value="Colorado" >Colorado</option>
          <option value="Connecticut" >Connecticut</option>
          <option value="Delaware" >Delaware</option>
          <option value="Florida" >Florida</option>
          <option value="Georgia" >Georgia</option>
          <option value="Hawaii" >Hawaii</option>
          <option value="Idaho" >Idaho</option>
          <option value="Illinois" >Illinois</option>
          <option value="Indiana" >Indiana</option>
          <option value="Iowa" >Iowa</option>
          <option value="Kansas" >Kansas</option>
          <option value="Kentucky" >Kentucky</option>
          <option value="Louisiana" >Louisiana</option>
          <option value="Maine" >Maine</option>
          <option value="Maryland" >Maryland</option>
          <option value="Massachusetts" >Massachusetts</option>
          <option value="Michigan" >Michigan</option>
          <option value="Minnesota" >Minnesota</option>
          <option value="Mississippi" >Mississippi</option>
          <option value="Missouri" >Missouri</option>
          <option value="Montana" >Montana</option>
          <option value="Nebraska" >Nebraska</option>
          <option value="Nevada" >Nevada</option>
          <option value="New Hampshire" >New Hampshire</option>
          <option value="New Jersey" >New Jersey</option>
          <option value="New Mexico" >New Mexico</option>
          <option value="New York" >New York</option>
          <option value="North Carolina" >North Carolina</option>
          <option value="North Dakota" >North Dakota</option>
          <option value="Ohio" >Ohio</option>
          <option value="Oklahoma" >Oklahoma</option>
          <option value="Oregon" >Oregon</option>
          <option value="Pennsylvania" >Pennsylvania</option>
          <option value="Rhode Island" >Rhode Island</option>
          <option value="South Carolina" >South Carolina</option>
          <option value="South Dakota" >South Dakota</option>
          <option value="Tennessee" >Tennessee</option>
          <option value="Texas" >Texas</option>
          <option value="Utah" >Utah</option>
          <option value="Vermont" >Vermont</option>
          <option value="Virginia" >Virginia</option>
          <option value="Washington" >Washington</option>
          <option value="West Virginia" >West Virginia</option>
          <option value="Wisconsin" >Wisconsin</option>
          <option value="Wyoming" >Wyoming</option>
</select> 				<span class="m-form-error help-inline m-hidden" data-element="state868"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="zip720"> Zip </label>			<div class="controls">
				 <input name="zip" id="zip720" type="text"    value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="zip720"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="donor_phone601"> Donor phone </label>			<div class="controls">
				 <input name="donor_phone" id="donor_phone601" type="text"    value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="donor_phone601"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="type_of_donor"> Type of donor </label>			<div class="controls">
				 <select name="type_of_donor" id="type_of_donor" data-events="change=other">
            <option value=" " >Choose type of Donor</option>
            <option value="restaurant" >Restaurant</option>
            <option value="grocery" >Grocery</option>
            <option value="farm" >Farm</option>
            <option value="other" >Other</option>
</select> 				<span class="m-form-error help-inline m-hidden" data-element="type_of_donor"></span>			</div>
		</div>
		<div class="control-group m-hidden">
			<label class="control-label" for="other_donor"> Other </label>			<div class="controls">
				 <input name="other_donor" id="other_donor" type="text" class="clear-default" data-default="ex: Cafeteria or Banquet Hall"  value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="other_donor"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="contact_person523"> Contact person </label>			<div class="controls">
				 <input name="contact_person" id="contact_person523" type="text"    value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="contact_person523"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="cuisine761"> Cuisine </label>			<div class="controls">
				 <select name="cuisine" id="cuisine761" data-events="change=otherCuisine">
            <option value="" selected="selected">Choose Cuisine</option>
            <option value="Produce" >Produce</option>
            <option value="Italian" >Italian</option>
            <option value="Thai" >Thai</option>
            <option value="Indian" >Indian</option>
            <option value="American" >American</option>
            <option value="French" >French</option>
            <option value="Mexican" >Mexican</option>
            <option value="Japanese" >Japanese</option>
            <option value="Middle Eastern" >Middle Eastern</option>
            <option value="Bakery" >Bakery</option>
            <option value="Coffee Shop" >Coffee Shop</option>
            <option value="Greek" >Greek</option>
            <option value="other" >Other</option>
</select> 				<span class="m-form-error help-inline m-hidden" data-element="cuisine761"></span>			</div>
		</div>
		<div class="control-group m-hidden">
			<label class="control-label" for="other_cuisine"> Other </label>			<div class="controls">
				 <input name="other_cuisine" id="other_cuisine" type="text" class="clear-default" data-default="Type of Food"  value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="other_cuisine"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="email313"> Email </label>			<div class="controls">
				 <input name="email" id="email313" type="text"    value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="email313"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="username753"> Username </label>			<div class="controls">
				 <input name="username" id="username753" type="text"    value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="username753"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="password322"> Password </label>			<div class="controls">
				 <input name="password" id="password322" type="password" autocomplete="off" class=" orig_password "  value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="password322"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="confirm_password636"> Confirm password </label>			<div class="controls">
				 <input name="confirm_password" id="confirm_password636" type="password" autocomplete="off" class=" orig_password "  value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="confirm_password636"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="security_question388"> Security question </label>			<div class="controls">
				 <select name="security_question" id="security_question388" >
<option value="" selected="selected">Choose Your Security Question</option>
<option value="Which city were you born" >Which city were you born</option>
<option value="What was your first school" >What was your first school</option>
<option value="What is your best friend's name from childhood" >What is your best friend's name from childhood</option>
</select> 				<span class="m-form-error help-inline m-hidden" data-element="security_question388"></span>			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="answer191"> Answer </label>			<div class="controls">
				 <input name="answer" id="answer191" type="text"    value="" /> 				<span class="m-form-error help-inline m-hidden" data-element="answer191"></span>			</div>
		</div><br><br>
<div class="form-actions">
		 <input name="submit" id="submit227"  value="Submit" type="submit" class="btn btn-primary"></input> </div><br><br>
</fieldset>
</form>
</div>
    
    </div>
    <div class="cleaner"></div>
    </div>
  </div>

</div>

      <!-- FOOTER -->
<div class="footer">
    <a href="https://twitter.com/Food_Savr?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @Food_Savr</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>
      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>&copy; Created by: Maryann Jordan, Angela Frys, & Sarah Learner &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
      </footer>

    </div><!-- /.container -->
    
    </div>
  </section>
</div>

</div>

<script>

	$(function() {
  
  $("#donor_form").on("submit", function(event) {
    event.preventDefault();

    //change string to int for foodTypeId in donorInfos table mj
    var cuisineid = 0;   
    var cuisine = $("#cuisine761").val().trim();

    switch (cuisine)
    {
      case 'Produce':
        cuisineid = 2;
        break;
      case 'Italian':
        cuisineid = 3;
        break;
      case 'Thai':
        cuisineid = 4;
        break;
      case 'Indian':
        cuisineid = 5;
        break;
      case 'American':
        cuisineid = 6;
        break;
      case 'French':
        cuisineid = 7;
        break;
      case 'Mexican':
        cuisineid = 8;
        break; 
      case 'Japanese':
        cuisineid = 9;
        break;
      case 'Middle Eastern':
        cuisineid = 10;
        break;
      case 'Bakery':
        cuisineid = 11;
        break;
      case 'Coffee Shop':
        cuisineid = 12;
        break;
      case 'Greek':
        cuisineid = 13;
        break;
      case 'other':
        cuisineid = 14;
        break;     
      default:
        cuisineid = 0;
    }

    //change string to int for donorTypeId in donorInfos table mj
    
    var  donortypeid = 0;   
    var donor = $("#type_of_donor").val().trim();    

    switch (donor)
    {
      case 'restaurant':
        donortypeid = 1;
        break;
      case 'grocery':
        donortypeid= 2;
        break;
      case 'farm':
        donortypeid = 3;
        break;
      case 'other':
        donortypeid = 4;
        break;     
      default:
        donortypeid = 0;
    }

    var newDonor = {
      name: $("#donor_name682").val().trim(),
      address: $("#address681").val().trim(),
      city: $("#city901").val().trim(),
      state: $("#state868").val().trim(),
      zip: $("#zip720").val().trim(),
      contact: $("#contact_person523").val().trim(),
      donorTypeId: donortypeid, //1,
      foodTypeId: cuisineid,  // $("#cuisine761").val().trim(),
      email: $("#email313").val().trim(),
      mobile: $("#donor_phone601").val().trim(),
      twitter: "",
      instagram: "",
      contactMobileFlag: 0,
      contactEmailFlag: 0,
      contactTwitterFlag: 0,
      contactInstagramFlag: 0,
      username: $("#username753").val().trim(),
      password: $("#password322").val().trim()
    };

    console.log(JSON.stringify(newDonor));

    $.ajax("/api/donor", {
      type: "POST",
      data: newDonor
    }).then(
      function() {
        console.log("added new record");
        location.reload();
      })
    });
    
  });

</script>